EXCEPTION = "\\oukasrv475\Oulu_kuvat\viralliset_asemakaavat\http_//kartta.ouka.fi/system_bmp/OP_moottoriurheilu.gif: 1"

RAW_LIST_STR = "http://kartta.ouka.fi/system_bmp/OP_Hotelli.gif: 2http://kartta.ouka.fi/system_bmp/OP_aikuisoppilaitos.gif: 9http://kartta.ouka.fi/system_bmp/OP_alaaste.gif: 68http://kartta.ouka.fi/system_bmp/OP_amk.gif: 3http://kartta.ouka.fi/system_bmp/OP_ammatil.gif: 14http://kartta.ouka.fi/system_bmp/OP_ammattikorkeakoulu.gif: 5http://kartta.ouka.fi/system_bmp/OP_ampumarata.gif: 5http://kartta.ouka.fi/system_bmp/OP_apteekki.gif: 22http://kartta.ouka.fi/system_bmp/OP_asukastupa.gif: 15http://kartta.ouka.fi/system_bmp/OP_avantouinti.gif: 1http://kartta.ouka.fi/system_bmp/OP_beachvolley.gif: 5http://kartta.ouka.fi/system_bmp/OP_diakonia_amk.gif: 1http://kartta.ouka.fi/system_bmp/OP_ekopiste.gif: 44http://kartta.ouka.fi/system_bmp/OP_elokuva.gif: 2http://kartta.ouka.fi/system_bmp/OP_elokuvateatteri.gif: 1http://kartta.ouka.fi/system_bmp/OP_erityiskoulu.gif: 11http://kartta.ouka.fi/system_bmp/OP_galleria.gif: 6http://kartta.ouka.fi/system_bmp/OP_hammashoitola.gif: 22http://kartta.ouka.fi/system_bmp/OP_hautaus.gif: 16http://kartta.ouka.fi/system_bmp/OP_hevosurheilu.gif: 10http://kartta.ouka.fi/system_bmp/OP_hiihto.gif: 37http://kartta.ouka.fi/system_bmp/OP_hotelli.gif: 11http://kartta.ouka.fi/system_bmp/OP_inva.gif: 21http://kartta.ouka.fi/system_bmp/OP_jaahalli.gif: 23http://kartta.ouka.fi/system_bmp/OP_jatehuolto.gif: 1http://kartta.ouka.fi/system_bmp/OP_kaupunki-info.gif: 1http://kartta.ouka.fi/system_bmp/OP_kesahotelli.gif: 3http://kartta.ouka.fi/system_bmp/OP_kirjasto.gif: 24http://kartta.ouka.fi/system_bmp/OP_kirjastoauto.gif: 108http://kartta.ouka.fi/system_bmp/OP_kirkko.gif: 21http://kartta.ouka.fi/system_bmp/OP_koira-aitaus.gif: 15http://kartta.ouka.fi/system_bmp/OP_kokoontumistila.gif: 10http://kartta.ouka.fi/system_bmp/OP_konserttisali.gif: 1http://kartta.ouka.fi/system_bmp/OP_kotihoito.gif: 24http://kartta.ouka.fi/system_bmp/OP_kulttuuritila.gif: 3http://kartta.ouka.fi/system_bmp/OP_kuntorata.gif: 24http://kartta.ouka.fi/system_bmp/OP_kuntosali.gif: 9http://kartta.ouka.fi/system_bmp/OP_kylpyla.gif: 1http://kartta.ouka.fi/system_bmp/OP_lastenkoti.gif: 2http://kartta.ouka.fi/system_bmp/OP_leikkipaikka.gif: 147http://kartta.ouka.fi/system_bmp/OP_liikennelask.gif: 10http://kartta.ouka.fi/system_bmp/OP_liikuntahalli.gif: 7http://kartta.ouka.fi/system_bmp/OP_liikuntasali.gif: 54http://kartta.ouka.fi/system_bmp/OP_linja-autoasema.gif: 1http://kartta.ouka.fi/system_bmp/OP_lintutorni.gif: 26http://kartta.ouka.fi/system_bmp/OP_lippupiste.gif: 1http://kartta.ouka.fi/system_bmp/OP_lukio.gif: 11http://kartta.ouka.fi/system_bmp/OP_luonnonmuistomerkki.gif: 36http://kartta.ouka.fi/system_bmp/OP_luonnonsuojelualue.gif: 14http://kartta.ouka.fi/system_bmp/OP_luontopolku.gif: 7http://kartta.ouka.fi/system_bmp/OP_matto.gif: 3http://kartta.ouka.fi/system_bmp/OP_merikoski.gif: 11http://kartta.ouka.fi/system_bmp/OP_mielent.gif: 7http://kartta.ouka.fi/system_bmp/OP_muistolaatta.gif: 37http://kartta.ouka.fi/system_bmp/OP_museo.gif: 22http://kartta.ouka.fi/system_bmp/OP_muuoppilaitos.gif: 1http://kartta.ouka.fi/system_bmp/OP_nahtavyys.gif: 18http://kartta.ouka.fi/system_bmp/OP_neuvola.gif: 15http://kartta.ouka.fi/system_bmp/OP_nuorisotalo.gif: 9http://kartta.ouka.fi/system_bmp/OP_nuorisotila.gif: 4http://kartta.ouka.fi/system_bmp/OP_oenergia.gif: 2http://kartta.ouka.fi/system_bmp/OP_opetus.gif: 4http://kartta.ouka.fi/system_bmp/OP_oulunateria.gif: 1http://kartta.ouka.fi/system_bmp/OP_oulunsatama.gif: 1http://kartta.ouka.fi/system_bmp/OP_paihdet.gif: 7http://kartta.ouka.fi/system_bmp/OP_painatusk.gif: 1http://kartta.ouka.fi/system_bmp/OP_paivakotij.gif: 123http://kartta.ouka.fi/system_bmp/OP_paivakotir.gif: 6http://kartta.ouka.fi/system_bmp/OP_paivakotiy.gif: 58http://kartta.ouka.fi/system_bmp/OP_palloiluk.gif: 30http://kartta.ouka.fi/system_bmp/OP_panOulu_sisa.gif: 180http://kartta.ouka.fi/system_bmp/OP_panOulu_ulko.gif: 89http://kartta.ouka.fi/system_bmp/OP_panoraama.gif: 9http://kartta.ouka.fi/system_bmp/OP_parkkipaikka.gif: 11http://kartta.ouka.fi/system_bmp/OP_parkkitalo.gif: 7http://kartta.ouka.fi/system_bmp/OP_patsas.gif: 58http://kartta.ouka.fi/system_bmp/OP_pohjavesiposti.gif: 8http://kartta.ouka.fi/system_bmp/OP_rakvalvontavir.gif: 1http://kartta.ouka.fi/system_bmp/OP_rautatieasema.gif: 1http://kartta.ouka.fi/system_bmp/OP_retkeilyalue.gif: 5http://kartta.ouka.fi/system_bmp/OP_sairaala.gif: 6http://kartta.ouka.fi/system_bmp/OP_seurakkoti.gif: 23http://kartta.ouka.fi/system_bmp/OP_seurtila.gif: 13http://kartta.ouka.fi/system_bmp/OP_sosasema.gif: 3http://kartta.ouka.fi/system_bmp/OP_taxi.gif: 19http://kartta.ouka.fi/system_bmp/OP_teatteri.gif: 7http://kartta.ouka.fi/system_bmp/OP_tenniskentta.gif: 5http://kartta.ouka.fi/system_bmp/OP_teolltontti.gif: 8http://kartta.ouka.fi/system_bmp/OP_terveysas.gif: 20http://kartta.ouka.fi/system_bmp/OP_terveysliikunta.gif: 29http://kartta.ouka.fi/system_bmp/OP_tietotekniikka.gif: 1http://kartta.ouka.fi/system_bmp/OP_tyopaja.gif: 7http://kartta.ouka.fi/system_bmp/OP_tyoterveys.gif: 1http://kartta.ouka.fi/system_bmp/OP_uimahalli.gif: 3http://kartta.ouka.fi/system_bmp/OP_uimaranta.gif: 27http://kartta.ouka.fi/system_bmp/OP_urheilupaikka.gif: 4http://kartta.ouka.fi/system_bmp/OP_uskyhteiso.gif: 14http://kartta.ouka.fi/system_bmp/OP_vaakuna.gif: 39http://kartta.ouka.fi/system_bmp/OP_valokuva.gif: 40http://kartta.ouka.fi/system_bmp/OP_valtio.gif: 32http://kartta.ouka.fi/system_bmp/OP_vanhainkoti.gif: 4http://kartta.ouka.fi/system_bmp/OP_vanhpalvkesk.gif: 6http://kartta.ouka.fi/system_bmp/OP_venepaikka.gif: 9http://kartta.ouka.fi/system_bmp/OP_venesatama.gif: 29http://kartta.ouka.fi/system_bmp/OP_vhuollontila.gif: 3http://kartta.ouka.fi/system_bmp/OP_viistokuva_075.gif: 1http://kartta.ouka.fi/system_bmp/OP_viistokuva_100.gif: 1http://kartta.ouka.fi/system_bmp/OP_viistokuva_150.gif: 1http://kartta.ouka.fi/system_bmp/OP_viistokuva_275.gif: 3http://kartta.ouka.fi/system_bmp/OP_viistokuva_300.gif: 3http://kartta.ouka.fi/system_bmp/OP_viistokuva_350.gif: 1http://kartta.ouka.fi/system_bmp/OP_viljely.gif: 11http://kartta.ouka.fi/system_bmp/OP_vpalvkoti.gif: 23http://kartta.ouka.fi/system_bmp/OP_vtoimintakesk.gif: 4http://kartta.ouka.fi/system_bmp/OP_webcam.gif: 3http://kartta.ouka.fi/system_bmp/OP_ylaaste.gif: 26http://kartta.ouka.fi/system_bmp/OP_yliopisto.gif: 11http://kartta.ouka.fi/system_bmp/OP_yritysp.gif: 1http://kartta.ouka.fi/system_bmp/op_ekopiste.gif: 1http://kartta.ouka.fi/system_bmp/op_kuntosali.gif: 1"
raw_list = RAW_LIST_STR.split(": ");

import urllib2
import StringIO
from PIL import Image
sorted_list = []

#Download exception 
img = urllib2.urlopen("http://kartta.ouka.fi/system_bmp/OP_moottoriurheilu.gif").read()
im = Image.open(StringIO.StringIO(img))
im.save("images/" + "OP_moottoriurheilu.gif");

for l in raw_list:   
    pos = l.find("http://")
    if pos == -1:
        continue        
    each_download_url = l[pos:]
    
    pos_name = each_download_url.find("http://kartta.ouka.fi/system_bmp/")
    if pos_name == -1:
        continue 
    front, each_image_name_with_extension = each_download_url.split("http://kartta.ouka.fi/system_bmp/")
    
    print each_image_name_with_extension
    
    img = urllib2.urlopen(each_download_url).read()
    im = Image.open(StringIO.StringIO(img))
    im.save("images/" + each_image_name_with_extension);
